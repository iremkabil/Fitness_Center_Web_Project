@model Fitness_Center_Web_Project.Models.Islem
@{
    Layout = "~/Views/Shared/_UserLayout.cshtml";
    ViewBag.Title = "Tarih ve Saat Seçimi";
}

<div class="container" style="padding: 20px;">
    @if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger">
            @TempData["ErrorMessage"]
        </div>
    }

    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success">
            @TempData["SuccessMessage"]
        </div>
    }

    <h2 class="text-center" style="margin-bottom: 30px;">Tarih ve Saat Seçimi</h2>
    <p class="text-center">Seçilen işlem: <strong>@ViewBag.Islem.Ad</strong></p>
    <p class="text-center">Seçilen personel: <strong>@ViewBag.Personel.Ad @ViewBag.Personel.Soyad</strong></p>

    <!-- GET olmalı (UygunlukKontrol [HttpGet]) -->
    <form method="get" action="@Url.Action("UygunlukKontrol", "Randevu")" style="max-width: 600px; margin: 0 auto;">
        <input type="hidden" name="islemId" value="@ViewBag.Islem.Id" />
        <input type="hidden" name="personelId" value="@ViewBag.Personel.Id" />

        <div class="form-group">
            <label for="tarih">Tarih:</label>
            <!-- name="tarih" olmalı -->
            <input type="date"
                   class="form-control"
                   id="tarih"
                   name="tarih"
                   value="@DateTime.Today.ToString("yyyy-MM-dd")"
                   required />
        </div>

        <div class="form-group">
            <label for="saat">Saat:</label>
            <!-- name="saat" olmalı -->
            <input type="time"
                   class="form-control"
                   id="saat"
                   name="saat"
                   value="12:00"
                   required />
        </div>

        <div style="text-align: center; margin-top: 20px;">
            <button type="submit" class="btn btn-primary">Devam Et</button>
        </div>
    </form>
</div>
